# **Pereval API**  
REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏ –æ –≥–æ—Ä–Ω—ã—Ö –ø–µ—Ä–µ–≤–∞–ª–∞—Ö

---

## **üìå –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ**
1. [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å](#-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
2. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏](#-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏)
3. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
4. [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API](#-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è-api)
5. [–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤](#-–ø—Ä–∏–º–µ—Ä—ã-–∑–∞–ø—Ä–æ—Å–æ–≤)
6. [–ê–≤—Ç–æ—Ä—ã](#-–∞–≤—Ç–æ—Ä—ã)

---

## **üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**
- –°–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø–µ—Ä–µ–≤–∞–ª–∞—Ö
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
  - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (`latitude`, `longitude`, `height`)
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (`name` `fam` `oct` `email`, `phone`)
  - –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (`title`, `img`)

---

## **üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**
- **Backend**: Django + DRF (Django Rest Framework)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL

---

## **‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞**
### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone https://github.com/RuslanKnyazkov/SprintProject
cd SprintProject/myproject
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows
pip install -r requirements.txt
```

``` –û—à–∏–±–∫–∞ —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏
–ú–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –æ—à–∏–±–∫–∞ Failed building wheel for psycopg2
–î–ª—è —ç—Ç–æ–≥–æ —Å–¥–µ–ª–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
```
```bash
sudo apt-get update
sudo apt-get install python3-dev libpq-dev
```

### 3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
```Variables
FSTR_DB_HOST='localhost'(Default)
FSTR_DB_PORT='5432'(Default)
FSTR_DB_LOGIN=?
FSTR_DB_PASS=?
FSTR_DB_NAME=?
SECRET_KEY=?
```

### 4. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á
```bash
django-admin shell
from django.core.management.utils import get_random_secret_key
print(get_random_secret_key())
```
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –ø–µ—Ä–µ–º–µ–Ω—É—é —Ñ–∞–π–ª–∞ .env SECRET_KEY

### 5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å
- –î–æ–±–∞–≤—å—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —Ñ–∞–π–ª .env
  
```bash
python manage.py migrate
```

### 6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
```bash
python manage.py runserver
```
–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: [http://localhost:8000](http://localhost:8000)

---

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `GET` | `/submitData/` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–µ—Ä–µ–≤–∞–ª–æ–≤ |
| `POST` | `/submitData/` | –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø–µ—Ä–µ–≤–∞–ª |
| `GET` | `/submitData//{id}/` | –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–∞–ª–∞ –ø–æ ID |
| `PATCH` | `/submitData/{id}/` | –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–≤–∞–ª–∞ (—á–∞—Å—Ç–∏—á–Ω–æ) |
| `GET` | `/submitData/user__email={email}/` | –§–∏–ª—å—Ç—Ä –ø–æ email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

---

## **üì° –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤**
### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–µ—Ä–µ–≤–∞–ª–∞ (`POST /submitData/`)
```json
{
  "user": {
    "email": "test@example.com",
    "phone": "+79131234567"
  },
  "coords": {
    "latitude": "45.3842",
    "longitude": "7.1525",
    "height": "1200"
  },
  "images": [
    {
      "title": "–í–∏–¥ —Å –≤–µ—Ä—à–∏–Ω—ã",
      "img": "https://example.com/photo1.jpg"
    }
  ]
}
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (`PATCH /submitData/1/`)
```json
{
  "status": "accepted",
  "coords": {
    "height": "1250"
  }
}
```

### 3. –§–∏–ª—å—Ç—Ä –ø–æ email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`GET /submitData/user__email=test@example.com/`)
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –ø–µ—Ä–µ–≤–∞–ª—ã, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —É–∫–∞–∑–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

---
